!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Templata=t():e.Templata=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=25)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/^\s+|\s+$/g,"")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.slice(0,t.APPEND.length)===t.APPEND?e.replace(t.APPEND,"").replace(t.POST_APPEND,""):e.slice(0,t.START.length)===t.START?e.replace(t.START,"").replace(t.END,""):e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],r=["toString","toLocalString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];for(var n in e)e.hasOwnProperty(n)&&r.indexOf(n)<0&&t.push(n);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);function i(e){return e.toLocaleUpperCase()}t.default=function(e,t,r,u){return u.registerImport("__f_uc",i),r.APPEND+"__f_uc("+n.default(t,r)+")"+r.POST_APPEND}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);function i(e){return e.toLocaleLowerCase()}t.default=function(e,t,r,u){return u.registerImport("__f_lc",i),r.APPEND+"__f_lc("+n.default(t,r)+")"+r.POST_APPEND}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=r(0);function u(e){return e.replace(/(?:([0-9]+?[\.\,]+?[0-9]+?)|([0-9]+?))(?:\s|[^0-9]|$)/g,function(e,t){return t.indexOf(",")>-1?parseFloat(t.replace(",",".")).toFixed(2):parseFloat(t).toFixed(2)})}t.default=function(e,t,r,s){return s.registerImport("__f_currency",u),r.APPEND+"__f_currency("+i.default(n.default(t,r))+")"+r.POST_APPEND}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.default=function(e,t,r,i,u,s){return u.END+n.default(t)+u.START}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2);t.default=function(e,t,r,u,s,l){return s.APPEND+n.default(i.default(t))+s.POST_APPEND}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.default=function(e,t,r){void 0===t&&(t=":"),void 0===r&&(r=",");for(var i=e.indexOf(t),u=e.indexOf(t,i+1),s=e.slice(i+1,u).split(r),l=s.length,o=-1;++o<l;)s[o]=n.default(s[o]);return s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){return e++}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"function"==typeof e||"object"==typeof e&&!!e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===r&&(r=1),t<0||t>e.length)throw new RangeError;return t>0?e.slice(0,t)+e.slice(t+r):e.slice(t+r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);t.default=function(e){var t=n.default(Object.prototype.toString.call(e),0,8);return n.default(t,t.length-1,1).toLowerCase()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13);t.default=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"array"===n.default(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.default=function(e,t,r){void 0===r&&(r=n.default(e));for(var i=r.length,u=-1;++u<i;)t(e[r[u]],r[u],e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r=e.length,n=-1;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(16),u=r(15),s=r(14),l=r(11),o=r(10),c=r(9),a=r(0);function p(e,t,r,o,p,f){if(f.registerImport("__isArray",s.default),f.registerImport("__isObject",l.default),f.registerImport("__eachArray",i.default),f.registerImport("__eachObject",u.default),o)return p.END+"}"+p.START;if(t&&""!==t){var _=a.default(t.slice(0,t.indexOf(":"))),E=n(),g=c.default(t,":",","),d=g[0],h=g[1];return d=d||"value_"+E,h=h||"key_"+E,p.END+"if(__isArray("+_+")){__eachArray("+_+",iterate_"+E+");}else if(__isObject("+_+")){__eachObject("+_+",iterate_"+E+");}function iterate_"+E+" ("+d+","+h+"){"+p.START}return t}t.iterate=p,t.initialize=function(e){e.on("COMPILE_START",function(){n=o.default(0)})},t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/\u0026/g,"&amp;").replace(/\u0023/g,"&#35;").replace(/\u003C/g,"&lt;").replace(/\u003E/g,"&gt;").replace(/\u0022/g,"&#34;").replace(/\u0027/g,"&#39;").replace(/\u0060/g,"&#96;").replace(/\u00B4/g,"&#180;").replace(/\u00DF/g,"&#223;").replace(/\u0024/g,"&#36;").replace(/\u20AC/g,"&#8364;").replace(/\u00A2/g,"&#162;").replace(/\u00A9/g,"&#169;").replace(/\u00AE/g,"&#174;").replace(/\u2122/g,"&#8482;").replace(/\u005E/g,"&#94;").replace(/\u007B/g,"&#123;").replace(/\u007D/g,"&#125;").replace(/\u007C/g,"&#124;").replace(/\u007E/g,"&#126;").replace(/\u0040/g,"&#64;").replace(/\u005B/g,"&#91;").replace(/\u005D/g,"&#93;").replace(/\u005C/g,"&#92;").replace(/\u003D/g,"&#61;").replace(/\u002B/g,"&#43;").replace(/\u002D/g,"&#45;").replace(/\u00D7/g,"&#215;").replace(/\u00F7/g,"&#247;").replace(/\u00E4/g,"&#228;").replace(/\u00C4/g,"&#196;").replace(/\u00F6/g,"&#246;").replace(/\u00D6/g,"&#214;").replace(/\u00FC/g,"&#252;").replace(/\u00DC/g,"&#220;").replace(/\u00E0/g,"&#224;").replace(/\u00C0/g,"&#192;").replace(/\u00E1/g,"&#225;").replace(/\u00C1/g,"&#193;").replace(/\u00E2/g,"&#226;").replace(/\u00C2/g,"&#194;").replace(/\u00E3/g,"&#227;").replace(/\u00C3/g,"&#195;").replace(/\u00E5/g,"&#229;").replace(/\u00C5/g,"&#197;").replace(/\u00E6/g,"&#230;").replace(/\u00C6/g,"&#198;").replace(/\u00E7/g,"&#231;").replace(/\u00C7/g,"&#199;").replace(/\u00E8/g,"&#232;").replace(/\u00C8/g,"&#200;").replace(/\u00E9/g,"&#233;").replace(/\u00C9/g,"&#201;").replace(/\u00EA/g,"&#234;").replace(/\u00CA/g,"&#202;").replace(/\u00EB/g,"&#235;").replace(/\u00CB/g,"&#203;").replace(/\u00EC/g,"&#236;").replace(/\u00CC/g,"&#204;").replace(/\u00ED/g,"&#237;").replace(/\u00CD/g,"&#205;").replace(/\u00EE/g,"&#238;").replace(/\u00CE/g,"&#206;").replace(/\u00EF/g,"&#239;").replace(/\u00CF/g,"&#207;").replace(/\u00F0/g,"&#240;").replace(/\u00D0/g,"&#208;").replace(/\u00F1/g,"&#241;").replace(/\u00D1/g,"&#209;").replace(/\u00F2/g,"&#242;").replace(/\u00D2/g,"&#210;").replace(/\u00F3/g,"&#243;").replace(/\u00D3/g,"&#211;").replace(/\u00F4/g,"&#244;").replace(/\u00D4/g,"&#212;").replace(/\u00F5/g,"&#245;").replace(/\u00D5/g,"&#213;").replace(/\u00F9/g,"&#249;").replace(/\u00D9/g,"&#217;").replace(/\u00FA/g,"&#250;").replace(/\u00DA/g,"&#218;").replace(/\u00FB/g,"&#251;").replace(/\u00DB/g,"&#219;").replace(/\u00FD/g,"&#253;").replace(/\u00DD/g,"&#221;").replace(/\u00F8/g,"&#248;").replace(/\u00D8/g,"&#216;")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18),i=r(0);t.default=function(e,t,r,u,s,l){return l.registerImport("__htmlEscape",n.default),s.APPEND+"__htmlEscape("+i.default(t)+")"+s.POST_APPEND}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2);t.default=function(e,t,r,u,s,l){if(u)return s.END+"}"+s.START;switch(e){case"?":return t&&""!==t?s.END+"if("+n.default(i.default(t))+"){"+s.START:s.END+"}else{"+s.START;case"??":return t&&""!==t?s.END+"}else if("+n.default(i.default(t))+"){"+s.START:s.END+"}else{"+s.START;default:return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n,i,u){return""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new RegExp("["+["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|","~","`","!","@","#"].join("\\")+"]","g");t.default=function(e){return e.replace(n,"\\$&")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/'|\\/g,"\\$&")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(23),u=r(3),s=r(22),l=r(0);!function(e){e[e.FULL_MATCH=0]="FULL_MATCH"}(n||(n={}));var o=function(){function e(e,t,r,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===r&&(r={}),void 0===n&&(n={}),this.replaceExpressions={AFTER_HTML_TAG:/>\s+/g,BEFORE_HTML_TAG:/\s+</g,EMPTY_APPEND_BUFFER:/\s*\+\s*([\'\"]{1})\1/g,EMPTY_COMMENT_TAG:/<!--[\s\S]*?-->/g,EMPTY_LINES:/^(?:\s*?)$/gm,EMPTY_START_APPEND_BUFFER:null,EMPTY_START_BUFFER:null,NEW_LINE:/\r|\n|\t|\/\*[\s\S]*?\*\//g},this.matchExpressions={BLOCK_LIST:null},this.buffer={APPEND:"'+(",END:"';",POST_APPEND:")+'",START:null},this._setupImports(e),this._provider=n,this._helper=t,this._filter=r,this._listener={},this._setupRegularExpressions(),this._setupBuffer()}return e.prototype.registerImport=function(e,t){return this.hasImport(e)||(this._importNames.push(e),this._importValues.push(t)),this},e.prototype.hasImport=function(e){return this._importNames.indexOf(e)>=0},e.prototype.removeImport=function(e){var t=this._importNames.indexOf(e);return t>-1&&(this._importNames.splice(t,1),this._importValues.splice(t,1)),this},e.prototype.registerHelper=function(t,r){if(t.slice(0,e.settings.DELIMITER.CLOSING.length)===e.settings.DELIMITER.CLOSING)throw Error('Helper cannot start with "'+e.settings.DELIMITER.CLOSING+'"!');return this._helper[t]=r,this},e.prototype.hasHelper=function(e){return"function"==typeof this._helper[e]},e.prototype.removeHelper=function(e){return delete this._helper[e],this},e.prototype.registerFilter=function(e,t){return this._filter[e]=t,this},e.prototype.hasFilter=function(e){return"function"==typeof this._filter[e]},e.prototype.removeFilter=function(e){return delete this._filter[e],this},e.prototype.registerProvider=function(e,t){return this._provider[e]=t,this},e.prototype.hasProvider=function(e){return"function"==typeof this._provider[e]},e.prototype.removeProvider=function(e){return delete this._provider[e],this},e.prototype.on=function(e,t){return this._listener.hasOwnProperty(e)?this._listener[e].push(t):this._listener[e]=[t],this},e.prototype.off=function(e,t){if(!this._listener.hasOwnProperty(e))return this;for(var r=this._listener[e].length,n=-1;++n<r;)this._listener[e][n]===t&&(this._listener[e].splice(n,1),r=this._listener[e].length);return this},e.prototype.dispatch=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(this._listener.hasOwnProperty(e))for(var n=this._listener[e].length,i=-1;++i<n;)this._listener[e][i].apply(void 0,[e,this].concat(t))},e.prototype.callProvider=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return this._provider[e].apply(void 0,[e].concat(t))},e.prototype.initialize=function(e){return e(this),this},e.prototype.compile=function(e){if("string"!=typeof e)throw new Error('Expected parameter "template" to be typeof "string" but instead got "'+typeof e+'"');return this.dispatch("COMPILE_START"),e=i.default(e),this._createTemplateFunction(this._optimizeTemplate(this._concatTemplateParts(this._matchBlocks(e),e)))},e.prototype._createTemplateFunction=function(e){return this.dispatch("COMPILE_END"),new Function(this._importNames.join(","),"return "+e).apply(void 0,this._importValues)},e.prototype._optimizeTemplate=function(e){return this._optimizeFnSource(this._addFnBody(e.replace(this.replaceExpressions.EMPTY_COMMENT_TAG,"").replace(this.replaceExpressions.BEFORE_HTML_TAG,"<").replace(this.replaceExpressions.AFTER_HTML_TAG,">").replace(this.replaceExpressions.NEW_LINE,"")))},e.prototype._addFnBody=function(t){return"function anonymous("+e.settings.VARIABLE_NAME+"){"+e.settings.VARIABLE_NAME+" || ("+e.settings.VARIABLE_NAME+" = {});var "+e.settings.VARIABLE_PRINT+"='';"+this.buffer.START+t+this.buffer.END+"return "+e.settings.VARIABLE_PRINT+";}"},e.prototype._optimizeFnSource=function(e){return e.replace(this.replaceExpressions.EMPTY_START_APPEND_BUFFER,"$1+=").replace(this.replaceExpressions.EMPTY_APPEND_BUFFER,"").replace(this.replaceExpressions.EMPTY_START_BUFFER,"").replace(this.replaceExpressions.EMPTY_LINES,"")},e.prototype._concatTemplateParts=function(e,t){for(var r=e.length,n=null,i="",u=-1;++u<r;)i+=null!==n?t.slice(n.end,e[u].start)+e[u].content:t.slice(0,e[u].start)+e[u].content,n=e[u];return null!==n&&(i+=t.slice(n.end)),i},e.prototype._matchBlocks=function(e){var t,r=[];for(this.matchExpressions.BLOCK_LIST.lastIndex=0,t=this.matchExpressions.BLOCK_LIST.exec(e);null!==t;)r.push({content:this._parseBlock(t),end:t.index+t[n.FULL_MATCH].length,start:t.index}),t=this.matchExpressions.BLOCK_LIST.exec(e);return r},e.prototype._parseBlock=function(t){var r=t[n.FULL_MATCH].slice(e.settings.DELIMITER.OPENING_BLOCK.length,t[n.FULL_MATCH].length-e.settings.DELIMITER.CLOSING_BLOCK.length),i=this._getBlockProperties(r);return this._helper[i.OPERATOR]?i.FILTER.length>0?this._callFilterList(i.FILTER,this._callHelper(i)):this._callHelper(i):r},e.prototype._getBlockProperties=function(e){var t=this._getBlockOperator(e),r=this._isClosingBlock(e),n=this._isSelfClosingBlock(e,t,r),i=this._getBlockParameter(e,t,n);return{CLOSING:r,FILTER:this._getBlockFilter(i),OPERATOR:t,PARAMETER:this._removeBlockFilter(i),SELF_CLOSING:n}},e.prototype._getBlockOperator=function(t){var r=t.indexOf(e.settings.DELIMITER.SPACE,0),n=t.slice(0,e.settings.DELIMITER.CLOSING.length)===e.settings.DELIMITER.CLOSING,i=0,u=t.length;return n&&(i=e.settings.DELIMITER.CLOSING.length),r>0&&(u=r),t.slice(i,u)},e.prototype._isClosingBlock=function(t){return t.slice(0,e.settings.DELIMITER.CLOSING.length)===e.settings.DELIMITER.CLOSING},e.prototype._isSelfClosingBlock=function(t,r,n){return!n&&t.slice(-1*r.length-e.settings.DELIMITER.SPACE.length)===e.settings.DELIMITER.SPACE+r},e.prototype._getBlockParameter=function(t,r,n){var i=r.length+e.settings.DELIMITER.SPACE.length,u=n?t.length-(r.length+e.settings.DELIMITER.SPACE.length):t.length;return t.slice(i,u)},e.prototype._getBlockFilter=function(t){for(var r,n=[],i=e.settings.DELIMITER.SPACE+e.settings.DELIMITER.FILTER_SEPERATOR+e.settings.DELIMITER.SPACE,u=t.indexOf(i);u>0;)r=u,(u=t.indexOf(i,u+1))>0&&n.push(l.default(t.slice(r+i.length,u)));return void 0!==r&&r>-1&&n.push(l.default(t.slice(r+i.length))),n},e.prototype._removeBlockFilter=function(t){var r=e.settings.DELIMITER.SPACE+e.settings.DELIMITER.FILTER_SEPERATOR+e.settings.DELIMITER.SPACE,n=t.indexOf(r);return n>0?t.slice(0,n):t},e.prototype._callFilterList=function(e,t){for(var r=e.length,n=-1;++n<r;)t=this._callFilter(e[n],t);return t},e.prototype._callHelper=function(e){try{return this._helper[e.OPERATOR](e.OPERATOR,e.PARAMETER,e.SELF_CLOSING,e.CLOSING,this.buffer,this)}catch(e){return""}},e.prototype._callFilter=function(e,t){try{return this._filter[e](e,t,this.buffer,this)}catch(e){return t}},e.prototype._setupImports=function(e){this._importNames=u.default(e),this._importValues=Array(this._importNames.length);for(var t=this._importNames.length,r=-1;++r<t;)this._importValues[r]=e[this._importNames[r]]},e.prototype._setupRegularExpressions=function(){this.matchExpressions.BLOCK_LIST=new RegExp("__OPENING_BLOCK__.+?__CLOSING_BLOCK__".replace("__OPENING_BLOCK__",s.default(e.settings.DELIMITER.OPENING_BLOCK)).replace("__CLOSING_BLOCK__",s.default(e.settings.DELIMITER.CLOSING_BLOCK)),"g"),this.replaceExpressions.EMPTY_START_BUFFER=new RegExp("__VARIABLE_PRINT__\\s*?\\+=\\s*?([\\'\\\"]{1})\\1\\;".replace("__VARIABLE_PRINT__",s.default(e.settings.VARIABLE_PRINT)),"g"),this.replaceExpressions.EMPTY_START_APPEND_BUFFER=new RegExp("(__VARIABLE_PRINT__)\\s*?\\+\\=\\s*?([\\'\\\"]{1})\\2\\s*?\\+".replace("__VARIABLE_PRINT__",s.default(e.settings.VARIABLE_PRINT)),"g")},e.prototype._setupBuffer=function(){this.buffer.START=e.settings.VARIABLE_PRINT+"+='"},e.settings={DELIMITER:{CLOSING:"/",CLOSING_BLOCK:"}}",FILTER_SEPERATOR:"|",OPENING_BLOCK:"{{",SPACE:" "},VARIABLE_NAME:"local",VARIABLE_PRINT:"__print"},e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),i=r(21),u=r(20),s=r(19),l=r(17),o=r(8),c=r(7),a=r(6),p=r(5),f=r(4),_={"!":s.default,"*":i.default,"-":c.default,"=":o.default,"?":u.default,"??":u.default,"~":l.iterate},E={currency:a.default,lowercase:p.default,uppercase:f.default};t.default=function(e,t){return void 0===t&&(t={}),new n.default(t,_,E).initialize(l.initialize).compile(e)}}]).default});
//# sourceMappingURL=templata.map